<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Painel Admin | Flor de √çris</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="robots" content="noindex, nofollow">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header class="header">
    <a href="index.html" title="Voltar ao in√≠cio" style="text-decoration: none; color: inherit;">
      <h1>üå∏ Painel Admin</h1>
    </a>
    <div class="header-actions">
      <span class="admin-badge">Admin</span>
      <a href="index.html" class="btn-ver-site">Ver Site</a>
      <button onclick="logout()" class="btn-logout">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
          <polyline points="16 17 21 12 16 7"/>
          <line x1="21" y1="12" x2="9" y2="12"/>
        </svg>
        Sair
      </button>
    </div>
  </header>

  <!-- Navega√ß√£o por Tabs -->
  <nav class="admin-tabs">
    <button class="tab-btn active" onclick="mudarAba('dashboard')">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="3" y="3" width="7" height="7"/>
        <rect x="14" y="3" width="7" height="7"/>
        <rect x="14" y="14" width="7" height="7"/>
        <rect x="3" y="14" width="7" height="7"/>
      </svg>
      Dashboard
    </button>
    <button class="tab-btn" onclick="mudarAba('produtos')">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="2" y="7" width="20" height="14" rx="2"/>
        <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/>
      </svg>
      Produtos
    </button>
    <button class="tab-btn" onclick="mudarAba('pedidos')">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="9" cy="21" r="1"/>
        <circle cx="20" cy="21" r="1"/>
        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
      </svg>
      Pedidos
    </button>
    <button class="tab-btn" onclick="mudarAba('clientes')">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
        <circle cx="9" cy="7" r="4"/>
        <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
        <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
      </svg>
      Clientes
    </button>
    <button class="tab-btn" onclick="mudarAba('relatorios')">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="12" y1="20" x2="12" y2="10"/>
        <line x1="18" y1="20" x2="18" y2="4"/>
        <line x1="6" y1="20" x2="6" y2="16"/>
      </svg>
      Relat√≥rios
    </button>
    <button class="tab-btn" onclick="mudarAba('config')">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="3"/>
        <path d="M12 1v6m0 6v6m-6-6h6m6 0h-6"/>
      </svg>
      Configura√ß√µes
    </button>
  </nav>

  <!-- ABA: DASHBOARD -->
  <div id="aba-dashboard" class="aba-conteudo active">
    <section class="stats-container">
      <div class="stat-card">
        <div class="stat-icon" style="background: linear-gradient(135deg, #667eea, #764ba2);">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
            <rect x="2" y="7" width="20" height="14" rx="2"/>
            <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/>
          </svg>
        </div>
        <div class="stat-info">
          <h3 id="total-produtos">0</h3>
          <p>Produtos Cadastrados</p>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon" style="background: linear-gradient(135deg, #f093fb, #f5576c);">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
            <line x1="12" y1="1" x2="12" y2="23"/>
            <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
          </svg>
        </div>
        <div class="stat-info">
          <h3 id="preco-medio">R$ 0,00</h3>
          <p>Pre√ßo M√©dio</p>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon" style="background: linear-gradient(135deg, #4facfe, #00f2fe);">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
            <circle cx="9" cy="21" r="1"/>
            <circle cx="20" cy="21" r="1"/>
            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
          </svg>
        </div>
        <div class="stat-info">
          <h3 id="itens-carrinho">0</h3>
          <p>Itens no Carrinho</p>
        </div>
      </div>
      <div class="stat-card">
    <section class="painel">
      <div class="painel-form">
              <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
            <circle cx="9" cy="7" r="4"/>
          </svg>
        </div>
        <div class="stat-info">
          <h3 id="total-clientes">0</h3>
          <p>Clientes Ativos</p>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon" style="background: linear-gradient(135deg, #30cfd0, #330867);">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
            <rect x="2" y="3" width="20" height="14" rx="2"/>
            <line x1="8" y1="21" x2="16" y2="21"/>
            <line x1="12" y1="17" x2="12" y2="21"/>
          </svg>
        </div>
        <div class="stat-info">
          <h3 id="visitas-hoje">0</h3>
          <p>Visitas Hoje</p>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon" style="background: linear-gradient(135deg, #a8edea, #fed6e3);">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
            <polyline points="22 4 12 14.01 9 11.01"/>
          </svg>
        </div>
        <div class="stat-info">
          <h3 id="pedidos-concluidos">0</h3>
          <p>Pedidos Conclu√≠dos</p>
        </div>
      </div>
    </section>

    <!-- A√ß√µes R√°pidas -->
    <section class="acoes-rapidas">
      <h2>A√ß√µes R√°pidas</h2>
      <div class="acoes-grid">
        <button class="acao-btn" onclick="mudarAba('produtos')">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 5v14M5 12h14"/>
          </svg>
          <span>Adicionar Produto</span>
        </button>
        <button class="acao-btn" onclick="verPedidosPendentes()">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"/>
            <polyline points="12 6 12 12 16 14"/>
          </svg>
          <span>Pedidos Pendentes</span>
        </button>
        <button class="acao-btn" onclick="exportarDados()">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
            <polyline points="7 10 12 15 17 10"/>
            <line x1="12" y1="15" x2="12" y2="3"/>
          </svg>
          <span>Exportar Dados</span>
        </button>
        <button class="acao-btn" onclick="limparCache()">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="1 4 1 10 7 10"/>
            <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"/>
          </svg>
          <span>Limpar Cache</span>
        </button>
      </div>
    </section>

    <!-- Top Produtos -->
    <section class="top-produtos-section">
      <h2>Produtos Mais Populares</h2>
      <div id="top-produtos" class="top-produtos-lista"></div>
    </section>

    <!-- Atividade Recente -->
    <section class="atividade-recente">
      <h2>Atividade Recente</h2>
      <div id="atividades" class="atividades-lista"></div>
    </section>
  </div>

  <!-- ABA: PRODUTOS -->
  <div id="aba-produtos" class="aba-conteudo">

  <section class="painel">
    <div class="painel-form">
      <h2>Adicionar Novo Produto</h2>
      <div class="form-grid">
        <div class="form-group">
          <label for="nome">Nome do Produto</label>
          <input id="nome" placeholder="Ex: Sabonete de Lavanda" maxlength="50">
        </div>
        <div class="form-group">
          <label for="preco">Pre√ßo (R$)</label>
          <input id="preco" type="number" placeholder="0.00" step="0.01" min="0.01">
        </div>
        <div class="form-group full-width">
          <label for="imagem">Imagem do Produto</label>
          <div class="file-upload">
            <input type="file" id="imagem" accept="image/*" onchange="previewImagem(event)">
            <label for="imagem" class="file-label">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="18" height="18" rx="2"/>
                <circle cx="8.5" cy="8.5" r="1.5"/>
                <path d="M21 15l-5-5L5 21"/>
              </svg>
              <span id="file-name">Escolher imagem</span>
            </label>
          </div>
        </div>
        <div class="form-group full-width">
          <div id="preview-container" style="display: none;">
            <img id="preview-img" alt="Preview">
          </div>
        </div>
      </div>
      <button onclick="salvarProduto()" class="btn-submit">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 5v14M5 12h14"/>
        </svg>
        Adicionar Produto
      </button>
    </div>

    <div class="produtos-lista">
      <div class="lista-header">
        <h2>Produtos Cadastrados</h2>
        <button onclick="limparTodosProdutos()" class="btn-limpar-todos" id="btn-limpar-todos">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="3 6 5 6 21 6"/>
            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
          </svg>
          Limpar Todos
        </button>
      </div>
      <div id="produtosAdmin" class="cards"></div>
      <div id="sem-produtos" class="sem-produtos" style="display: none;">
        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
          <rect x="2" y="7" width="20" height="14" rx="2"/>
          <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/>
        </svg>
        <h3>Nenhum produto cadastrado</h3>
        <p>Adicione seu primeiro produto usando o formul√°rio acima</p>
      </div>
      </div>
    </section>
  </div>

  <!-- ABA: PEDIDOS -->
  <div id="aba-pedidos" class="aba-conteudo">
    <section class="pedidos-section">
      <div class="section-header">
        <h2>Gerenciar Pedidos</h2>
        <div class="filtros-pedidos">
          <select id="filtro-status-pedido" onchange="filtrarPedidos()">
            <option value="todos">Todos os Status</option>
            <option value="pendente">Pendentes</option>
            <option value="processando">Em Processamento</option>
            <option value="enviado">Enviados</option>
            <option value="concluido">Conclu√≠dos</option>
            <option value="cancelado">Cancelados</option>
          </select>
        </div>
      </div>
      <div id="lista-pedidos" class="pedidos-lista"></div>
    </section>
  </div>

  <!-- ABA: CLIENTES -->
  <div id="aba-clientes" class="aba-conteudo">
    <section class="clientes-section">
      <div class="section-header">
        <h2>Clientes Cadastrados</h2>
        <button class="btn-adicionar" onclick="adicionarCliente()">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 5v14M5 12h14"/>
          </svg>
          Novo Cliente
        </button>
      </div>
      <div id="lista-clientes" class="clientes-lista"></div>
    </section>
  </div>

  <!-- ABA: RELAT√ìRIOS -->
  <div id="aba-relatorios" class="aba-conteudo">
    <section class="relatorios-section">
      <h2>Relat√≥rios e An√°lises</h2>
      
      <div class="relatorio-card">
        <h3>Vendas por Per√≠odo</h3>
        <div class="periodo-selector">
          <button class="btn-periodo active" onclick="selecionarPeriodo('hoje')">Hoje</button>
          <button class="btn-periodo" onclick="selecionarPeriodo('semana')">Esta Semana</button>
          <button class="btn-periodo" onclick="selecionarPeriodo('mes')">Este M√™s</button>
          <button class="btn-periodo" onclick="selecionarPeriodo('ano')">Este Ano</button>
        </div>
        <div id="grafico-vendas" class="grafico-container">
          <canvas id="canvas-vendas"></canvas>
        </div>
      </div>

      <div class="relatorio-card">
        <h3>Produtos Mais Vendidos</h3>
        <div id="ranking-produtos" class="ranking-lista"></div>
      </div>

      <div class="relatorio-card">
        <h3>Performance de Categorias</h3>
        <div id="categorias-performance" class="categorias-lista"></div>
      </div>
    </section>
  </div>

  <!-- ABA: CONFIGURA√á√ïES -->
  <div id="aba-config" class="aba-conteudo">
    <section class="config-section">
      <h2>Configura√ß√µes do Sistema</h2>
      
      <div class="config-card">
        <h3>Informa√ß√µes da Loja</h3>
        <div class="form-grid">
          <div class="form-group">
            <label>Nome da Loja</label>
            <input type="text" id="config-nome-loja" value="Flor de √çris">
          </div>
          <div class="form-group">
            <label>WhatsApp</label>
            <input type="text" id="config-whatsapp" value="44 9864-2644">
          </div>
          <div class="form-group full-width">
            <label>E-mail de Contato</label>
            <input type="email" id="config-email" value="contato@flordeiris.com">
          </div>
          <div class="form-group full-width">
            <label>Endere√ßo</label>
            <input type="text" id="config-endereco" value="Rua das Flores, 123">
          </div>
        </div>
      </div>

      <div class="config-card">
        <h3>Notifica√ß√µes</h3>
        <div class="config-toggle">
          <label>
            <input type="checkbox" id="notif-novos-pedidos" checked>
            <span>Notificar sobre novos pedidos</span>
          </label>
        </div>
        <div class="config-toggle">
          <label>
            <input type="checkbox" id="notif-estoque-baixo" checked>
            <span>Alertas de estoque baixo</span>
          </label>
        </div>
        <div class="config-toggle">
          <label>
            <input type="checkbox" id="notif-novos-clientes" checked>
            <span>Notificar sobre novos clientes</span>
          </label>
        </div>
      </div>

      <div class="config-card">
        <h3>Backup e Dados</h3>
        <div class="backup-actions">
          <button class="btn-backup" onclick="fazerBackup()">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
              <polyline points="7 10 12 15 17 10"/>
              <line x1="12" y1="15" x2="12" y2="3"/>
            </svg>
            Fazer Backup
          </button>
          <button class="btn-backup" onclick="restaurarBackup()">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
              <polyline points="17 8 12 3 7 8"/>
              <line x1="12" y1="3" x2="12" y2="15"/>
            </svg>
            Restaurar Backup
          </button>
        </div>
      </div>

      <div class="config-card">
        <h3>Seguran√ßa</h3>
        <button class="btn-alterar-senha" onclick="alterarSenha()">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
            <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
          </svg>
          Alterar Senha
        </button>
      </div>

      <button class="btn-salvar-config" onclick="salvarConfiguracoes()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>
          <polyline points="17 21 17 13 7 13 7 21"/>
          <polyline points="7 3 7 8 15 8"/>
        </svg>
        Salvar Configura√ß√µes
      </button>
    </section>
  </div>

  <script src="js/security.js"></script>
  <script src="js/painel.js"></script>
  <script src="js/suporte.js"></script>
</body>
</html>
